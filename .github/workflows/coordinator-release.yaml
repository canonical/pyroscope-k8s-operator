name: Release Coordinator Charm to Edge and Publish Libraries

on:
  push:
    branches:
      - main
      - track/**

jobs:
  release-coordinator:
    uses: canonical/observability/.github/workflows/charm-release.yaml@v1
    secrets: inherit
    with:
      charm-path: coordinator
      git-tag-prefix: coordinator-
    concurrency:
      group: coordinator-release-${{ github.ref }}